<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="colorlib.com" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Sign Up Form</title>

    <!-- Font Icon -->
    <link
      rel="stylesheet"
      href="fonts/material-icon/css/material-design-iconic-font.min.css"
    />

    <!-- Main css -->
    <link rel="stylesheet" href="css/style.css" />
  </head>

  <body>
    <div class="main">
      <div class="container">
        <h2>AGRILAND REGISTRATION FORM</h2>
        <form
          method="POST"
          id="signup-form"
          class="signup-form"
          enctype="multipart/form-data"
        >
          <h3>STEP 1</h3>
          <fieldset>
            <h4>Personal Profile</h4>
            <div class="form-row">
              <div class="form-file">
                <input
                  type="file"
                  class="inputfile"
                  name="your_picture"
                  id="your_picture"
                  onchange="readURL(this);"
                  data-multiple-caption="{count} files selected"
                  multiple
                />
                <label for="your_picture">
                  <figure>
                    <img
                      src="images/your-picture.png"
                      alt=""
                      class="your_picture_image"
                    />
                  </figure>
                  <span class="file-button">choose picture</span>
                </label>
              </div>
              <div class="form-group-flex">
                <div class="form-group">
                  <input
                    type="text"
                    name="first_name"
                    id="first_name"
                    placeholder="First Name"
                  />
                </div>
                <div class="form-group">
                  <input
                    type="text"
                    name="middle_name"
                    id="middle_name"
                    placeholder="Middle Name"
                  />
                </div>
                <div class="form-group">
                  <input
                    type="text"
                    name="sur_name"
                    id="sur_name"
                    placeholder="Surname"
                  />
                  <hr />
                  <div
                    class="form-row"
                    style="display: flex; align-items: center"
                  >
                    <div
                      class="form-holder"
                      style="display: flex; align-items: center"
                    >
                      <p style="color: black"><strong>SEX:</strong></p>
                      <label
                        style="
                          display: flex;
                          align-items: start;
                          margin: 20px 20px 20px 20px;
                        "
                      >
                        <input type="radio" name="sex" value="male" />
                        Male
                      </label>

                      <label style="display: flex; align-items: start">
                        <input type="radio" name="sex" value="female" />
                        Female
                      </label>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <h4>Home Address</h4>
            <div class="form-row form-input-flex">
              <div class="form-input">
                <select name="region" id="region">
                  <option value="">REGION</option>
                </select>
                <span class="select-icon"
                  ><i class="zmdi zmdi-caret-down"></i
                ></span>
              </div>

              <div class="form-input">
                <select name="province" id="province">
                  <option value="">PROVINCE</option>
                </select>
                <span class="select-icon"
                  ><i class="zmdi zmdi-caret-down"></i
                ></span>
              </div>

              <div class="form-input">
                <select name="city" id="city">
                  <option value="">CITY/MUNICIPALITY</option>
                </select>
              </div>
            </div>
            <div class="form-row form-input-flex">
              <div class="form-input">
                <select name="barangay" id="barangay">
                  <option value="">BARANGAY</option>
                </select>
              </div>
              <div class="form-input">
                <input
                  type="text"
                  name="street_number"
                  id="street_number"
                  placeholder="STREET/SITIO/SUBDV."
                />
              </div>
              <div class="form-input">
                <input
                  type="text"
                  name="purok"
                  id="purok"
                  placeholder="HOUSE/LOT/BLDG. NO./PUROK"
                />
              </div>
            </div>
          </fieldset>

          <h3>STEP 2</h3>
          <fieldset>
            <h4>Contact</h4>
            <div class="form-row form-input-flex">
              <div class="form-input">
                <input
                  type="number"
                  name="number"
                  id="number"
                  placeholder="MOBILE NUMBER"
                />
              </div>
            </div>
            <hr />
            <h4>Person to Contact in case of emergency</h4>
            <div class="form-row form-input-flex">
              <div class="form-input">
                <input
                  type="number"
                  name="emergencyNumber"
                  id="emergencyNumber"
                  placeholder="MOBILE NUMBER"
                />
              </div>
            </div>
            <hr />
            <div class="form-row form-input-flex">
              <div class="form-input">
                <h4>DATE OF BIRTH</h4>
                <input
                  type="date"
                  name="dateOfBirth"
                  id="dateOfBirth"
                  placeholder="DATE OF BIRTH"
                />
              </div>
            </div>
            <hr />
            <h4>PLACE OF BIRTH:</h4>
            <div class="form-row form-input-flex">
              <div class="form-input">
                <input
                  type="text"
                  name="birthMunicipaltiy"
                  id="birthMunicipaltiy"
                  placeholder="MUNICIPALITY"
                />
              </div>
              <div class="form-input">
                <input
                  type="text"
                  name="birthProvince"
                  id="birthProvince"
                  placeholder="PROVINCE/STATE"
                />
              </div>
              <div class="form-input">
                <input
                  type="text"
                  name="purok"
                  id="purok"
                  placeholder="HOUSE/LOT/BLDG. NO./PUROK"
                />
              </div>
            </div>
          </fieldset>

          <h3>STEP 3</h3>
          <fieldset>
            <div class="form-radio">
              <label for="job" class="label-radio" style="margin-top: 20px"
                >What are you doing?</label
              >
              <div class="form-flex">
                <div class="form-radio">
                  <input
                    type="radio"
                    name="job"
                    value="farmer"
                    id="farmer"
                    checked="checked"
                    onchange="showOptions()"
                  />
                  <label for="farmer">
                    <figure>
                      <img src="images/icon-1.png" alt="Farmer" />
                    </figure>
                    <span>Farmer</span>
                  </label>
                </div>

                <div class="form-radio">
                  <input
                    type="radio"
                    name="job"
                    value="farmworker"
                    id="farmworker"
                    onchange="showOptions()"
                  />
                  <label for="farmworker">
                    <figure>
                      <img src="images/icon-2.png" alt="Farmworker" />
                    </figure>
                    <span>FARMWORKER/LABORER</span>
                  </label>
                </div>

                <div class="form-radio">
                  <input
                    type="radio"
                    name="job"
                    value="fisherfolk"
                    id="fisherfolk"
                    onchange="showOptions()"
                  />
                  <label for="fisherfolk">
                    <figure>
                      <img src="images/icon-3.png" alt="Fisherfolk" />
                    </figure>
                    <span>FISHERFOLK</span>
                  </label>
                </div>

                <div class="form-radio">
                  <input
                    type="radio"
                    name="job"
                    value="agri_youth"
                    id="agri_youth"
                    onchange="showOptions()"
                  />
                  <label for="agri_youth">
                    <figure>
                      <img src="images/icon-4.png" alt="Agri Youth" />
                    </figure>
                    <span>AGRI YOUTH</span>
                  </label>
                </div>
              </div>
            </div>
          </fieldset>

          <h3>STEP 4</h3>
          <fieldset>
            <h4>Crop Area</h4>

            <div class="form-row form-input-flex">
              
              <div class="form-input">
                <input
                  type="number"
                  name="crop_area"
                  id="crop_area"
                  placeholder="CROP AREA IN HECTARS"
                />
              </div>
            
            </div>
            <hr />
            <h4>Crop Name</h4>
            <div
              class="form-row form-input-flex"
              style="
                display: flex;
                justify-content: center;
                align-items: center;
              "
            >
              <label style="display: flex; align-items: center; gap: 10px">
                <select name="crop_name" id="crop_name">
                  <option value="">Piliin ang Pananim (Select Crop)</option>
                  <option value="Palay/Rice">Palay/Rice (Palay)</option>
                  <option value="Corn">Corn/Mais (Mais)</option>
                  <option value="Mungbean">Mungbean/Monggo (Monggo)</option>
                  <option value="Onion">Onion/Sibuyas (Sibuyas)</option>
                  <option value="Garlic">Garlic/Bawang (Bawang)</option>
                  <option value="Eggplant">Eggplant/Talong (Talong)</option>
                  <option value="Tomato">Tomato/Kamatis (Kamatis)</option>
                  <option value="Cabbage">Cabbage/Repolyo (Repolyo)</option>
                  <option value="Carrot">Carrot/Karot (Karot)</option>
                  <option value="Watermelon">Watermelon/Pakwan (Pakwan)</option>
                </select>
              </label>
            </div>
            <hr>
            <h4>Farm Address</h4>
            <div class="form-row form-input-flex">
              <div class="form-input">
                <input
                  type="text"
                  name="province"
                  id="province"
                  placeholder="PROVINCE"
                />
              </div>

              <div class="form-input">
                <input
                  type="text"
                  name="city"
                  id="city"
                  placeholder="MUNICIPALITY/CITY"
                />
              </div>

            </div>
            <div class="form-row form-input-flex">
              <div class="form-input">
                <input
                  type="text"
                  name="barangay"
                  id="barangay"
                  placeholder="BARANGAY"
                />
              </div>
              
            </div>

          
          </fieldset>

          <h3>STEP 9</h3>
          <fieldset>
            <h4>Account</h4>

            <div
              class="form-row form-input-flex"
              style="
                display: flex;
                justify-content: center;
                align-items: center;
                margin-bottom: 2%;
              "
            >
              <label style="display: flex; align-items: center; gap: 10px">
                <input
                  type="email"
                  name="email"
                  id="email"
                  placeholder="EMAIL"
                />
              </label>
            </div>

            <div
              class="form-row form-input-flex"
              style="
                display: flex;
                justify-content: center;
                align-items: center;
                margin-bottom: 2%;
              "
            >
              <label style="display: flex; align-items: center; gap: 10px">
                <input
                  type="password"
                  name="password"
                  id="password"
                  placeholder="PASSWORD"
                />
              </label>
            </div>

            <div
              class="form-row form-input-flex"
              style="
                display: flex;
                justify-content: center;
                align-items: center;
                margin-bottom: 2%;
              "
            >
              <label style="display: flex; align-items: center; gap: 10px">
                <input
                  type="password"
                  name="confirm_password"
                  id="confirm_password"
                  placeholder="CONFIRM PASSWORD"
                />
              </label>
            </div>
          </fieldset>
        </form>
      </div>
    </div>

    <!-- JS -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/jquery-validation/dist/jquery.validate.min.js"></script>
    <script src="vendor/jquery-validation/dist/additional-methods.min.js"></script>
    <script src="vendor/jquery-steps/jquery.steps.min.js"></script>
    <script src="js/main.js"></script>

    <script>
      const regionUrl = "https://psgc.cloud/api/regions";
      const provinceSelect = document.getElementById("province");
      const regionSelect = document.getElementById("region");
      const citySelect = document.getElementById("city");
      const subMunicipalitySelect = document.getElementById("sub_municipality");
      const barangaySelect = document.getElementById("barangay");

      // Function to show loading indicator
      function showLoadingIndicator() {
        const loadingIndicator = document.createElement("div");
        loadingIndicator.textContent = "Loading...";
        loadingIndicator.id = "loadingIndicator";
        document.body.appendChild(loadingIndicator);
      }

      // Function to hide loading indicator
      function hideLoadingIndicator() {
        const loadingIndicator = document.getElementById("loadingIndicator");
        if (loadingIndicator) loadingIndicator.remove();
      }

      // Fetch regions on page load
      fetch(regionUrl)
        .then((response) => {
          showLoadingIndicator();
          if (!response.ok)
            throw new Error(`HTTP error! Status: ${response.status}`);
          return response.json();
        })
        .then((data) => {
          hideLoadingIndicator();
          data.forEach((region) => {
            const option = document.createElement("option");
            option.value = region.code;
            option.textContent = region.name;
            regionSelect.appendChild(option);
          });
        })
        .catch((error) => {
          hideLoadingIndicator();
          console.error("Error fetching regions:", error);
        });

      // Fetch provinces when a region is selected
      regionSelect.addEventListener("change", function () {
        const selectedRegion = this.value;
        provinceSelect.innerHTML = '<option value="">PROVINCE</option>';
        citySelect.innerHTML = '<option value="">CITY/MUNICIPALITY</option>';
        subMunicipalitySelect.innerHTML =
          '<option value="">SUB-MUNICIPALITY</option>';
        barangaySelect.innerHTML = '<option value="">BARANGAY</option>'; // Clear barangay dropdown

        if (selectedRegion) {
          const provinceUrl = `https://psgc.cloud/api/regions/${selectedRegion}/provinces`;

          fetch(provinceUrl)
            .then((response) => {
              if (!response.ok)
                throw new Error(`HTTP error! Status: ${response.status}`);
              return response.json();
            })
            .then((data) => {
              data.forEach((province) => {
                const option = document.createElement("option");
                option.value = province.code;
                option.textContent = province.name;
                provinceSelect.appendChild(option);
              });
            })
            .catch((error) =>
              console.error("Error fetching provinces:", error)
            );
        }
      });

      // Fetch cities and municipalities when a province is selected
      provinceSelect.addEventListener("change", function () {
        const selectedProvince = this.value;
        citySelect.innerHTML = '<option value="">CITY/MUNICIPALITY</option>';
        subMunicipalitySelect.innerHTML =
          '<option value="">SUB-MUNICIPALITY</option>';
        barangaySelect.innerHTML = '<option value="">BARANGAY</option>'; // Clear barangay dropdown

        if (selectedProvince) {
          const citiesUrl = `https://psgc.cloud/api/provinces/${selectedProvince}/cities-municipalities`;

          fetch(citiesUrl)
            .then((response) => {
              if (!response.ok)
                throw new Error(`HTTP error! Status: ${response.status}`);
              return response.json();
            })
            .then((data) => {
              data.forEach((city) => {
                const option = document.createElement("option");
                option.value = city.code;
                option.textContent = city.name;
                citySelect.appendChild(option);
              });

              if (data.length === 0) {
                const option = document.createElement("option");
                option.textContent = "No cities/municipalities available";
                citySelect.appendChild(option);
              }
            })
            .catch((error) => console.error("Error fetching cities:", error));
        }
      });

      // Fetch barangays when a city/municipality is selected
      citySelect.addEventListener("change", function () {
        const selectedCity = this.value;
        barangaySelect.innerHTML = '<option value="">BARANGAY</option>'; // Clear barangay dropdown

        if (selectedCity) {
          const barangayUrl = `https://psgc.cloud/api/cities-municipalities/${selectedCity}/barangays`;

          fetch(barangayUrl)
            .then((response) => {
              if (!response.ok)
                throw new Error(`HTTP error! Status: ${response.status}`);
              return response.json();
            })
            .then((data) => {
              data.forEach((barangay) => {
                const option = document.createElement("option");
                option.value = barangay.code; // Assuming 'code' property exists for barangays
                option.textContent = barangay.name; // Assuming 'name' property exists for barangays
                barangaySelect.appendChild(option);
              });

              // If no barangays are found, display a message
              if (data.length === 0) {
                const option = document.createElement("option");
                option.textContent = "No barangays available";
                barangaySelect.appendChild(option);
              }
            })
            .catch((error) =>
              console.error("Error fetching barangays:", error)
            );
        }
      });
    </script>
  </body>
</html>
